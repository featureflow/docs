"use strict";(self.webpackChunkfeatureflow_docs=self.webpackChunkfeatureflow_docs||[]).push([[7048],{8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},9548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"SDK_Guides/reactjs","title":"ReactJS Client","description":"Github//github.com/featureflow/featureflow-angular","source":"@site/versioned_docs/version-2.0.0/05-SDK_Guides/reactjs.mdx","sourceDirName":"05-SDK_Guides","slug":"/reactjs-client","permalink":"/reactjs-client","draft":false,"unlisted":false,"tags":[],"version":"2.0.0","frontMatter":{"title":"ReactJS Client","sidebar_label":"ReactJS Client","slug":"/reactjs-client"},"sidebar":"docsSidebar","previous":{"title":"Node.js SDK","permalink":"/nodejs-sdk"},"next":{"title":"REST API Responses","permalink":"/rest-responses"}}');var s=t(4848),i=t(8453);const l={title:"ReactJS Client",sidebar_label:"ReactJS Client",slug:"/reactjs-client"},o=void 0,a={},c=[{value:"Installation",id:"installation",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"API",id:"api",level:3},{value:"<code>&lt;FeatureflowProvider client&gt;</code>",id:"featureflowprovider-client",level:4},{value:"<code>withFeatureflow([mapFeatureListeners], [clientProp])(Component)</code>",id:"withfeatureflowmapfeaturelisteners-clientpropcomponent",level:4},{value:"<code>FeatureflowConfig</code>",id:"featureflowconfig",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Github: ",(0,s.jsx)(n.a,{href:"https://github.com/featureflow/featureflow-angular",children:"https://github.com/featureflow/featureflow-angular"})]}),"\n",(0,s.jsxs)(n.p,{children:["Firstly, Get your Featureflow account at ",(0,s.jsx)(n.a,{href:"http://www.featureflow.io",children:"featureflow.io"})]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"Version ^2.x.x uses the new react context API and therefore requires react > 16.3\nTo use featureflow with versions of react below 16.3, please use the 1.x.x client."}),(0,s.jsx)(n.p,{children:"When using the 1.x client you will need to also include the core javascript api:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ npm install --save featureflow-client\n"})}),(0,s.jsxs)(n.p,{children:["Version 2.x.x includes the core javascript SDK so there is no need to install it in addition to ",(0,s.jsx)(n.code,{children:"react-featureflow-client"}),"."]})]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.p,{children:"Using NPM"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ npm install --save react-featureflow-client\n"})}),"\n",(0,s.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsx)(n.p,{children:"Getting started is simple:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Wrap your application with a featureflow provider - there should only be one provider - it should sit at your top level App component."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If you have"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"  ReactDOM.render(\n      <App feature=\"example-feature\"/>,\n    document.getElementById('root')\n  );\n"})}),"\n",(0,s.jsxs)(n.p,{children:["wrap ",(0,s.jsx)(n.code,{children:"App"})," using ",(0,s.jsx)(n.code,{children:"withFeatureflowProvider"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { withFeatureflowProvider, useFeatureflow, useFeatures } from 'react-featureflow-client'\n\nconst FF_KEY = 'js-env-YOUR_KEY_HERE';\nconst user = {\n  attributes: {\n    tier: 'gold',\n    country: 'australia',\n    roles: ['role1', 'role2']\n  }\n};\n\nexport default (withFeatureflowProvider({\n  apiKey: FF_KEY,\n  user\n})(App))\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["You then have access to the ",(0,s.jsx)(n.code,{children:"featureflow"})," client and evaluated ",(0,s.jsx)(n.code,{children:"features"})," using hooks:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { useFeatureflow, useFeatures } from 'react-featureflow-client'\n\nconst App: React.FC<Props> = () => {\n\n  const featureflow = useFeatureflow();\n  const features = useFeatures();\n  const feature = 'example-feature';\n\n  return  <div>\n    <h1>A very simple example</h1>\n    <b>{feature}</b>\n    { featureflow.evaluate(feature).isOn() && [\n        <p key=\"1\">I am on</p>,\n    ]}\n    { featureflow.evaluate(feature).isOff() && [\n      <p key=\"1\">I am off</p>,\n      ]\n    }\n    {Object.keys(features).map(key => <div>{key} : {features[key]}</div>)}\n  </div>\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you want your component to wait until featureflow has received an initial response, set ",(0,s.jsx)(n.code,{children:"config.waitForInit = true"}),"\nin the featureflowConfig."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to render a different component while waiting on response from featureflow, you can pass in ",(0,s.jsx)(n.code,{children:"config.preInitComponent = <YourComponent/>"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"This is especially useful if you may have a race condition with your application on initial load of features."}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.p,{children:"Note that loading featureflow features is highly optimised and globally cached. Features typically load in milliseconds (often < 2ms)."}),(0,s.jsx)(n.p,{children:"In addition, any reloads are cached on the local browser making subsequent feature loads practically instant."})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"\nconst featureflowConfig = {\n    waitForInit: true,\n    preInitComponent: <YourComponent/>\n}\n\nexport default withFeatureflow(featureflowConfig)(MyComponent);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"api",children:"API"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"react-featureflow-client"})," exposes 2 properties."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import {\n  FeatureflowProvider,\n  withFeatureflow\n} from 'react-featureflow-client';\n"})}),"\n",(0,s.jsx)(n.h4,{id:"featureflowprovider-client",children:(0,s.jsx)(n.code,{children:"<FeatureflowProvider client>"})}),"\n",(0,s.jsx)(n.p,{children:"Connects your featureflow to your React application. Must only have one child."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Params"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"client*"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"featureflow"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Required"})})}),(0,s.jsx)(n.td,{children:"An instantiated featureflow client"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"withfeatureflowmapfeaturelisteners-clientpropcomponent",children:(0,s.jsx)(n.code,{children:"withFeatureflow([mapFeatureListeners], [clientProp])(Component)"})}),"\n",(0,s.jsx)(n.p,{children:"Pass the featureflow client to a React Component's props."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Params"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"featureflowConfig"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"object"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"{}"})}),(0,s.jsxs)(n.td,{children:["Use to set the ",(0,s.jsx)(n.code,{children:"update"})," property and featureflow ",(0,s.jsx)(n.code,{children:"clientName"})," specifically for the component. See ",(0,s.jsx)(n.code,{children:"FeatureflowConfig"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Component"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Component"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Required"})})}),(0,s.jsx)(n.td,{children:"The component to pass the featureflow client to."})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"featureflowconfig",children:(0,s.jsx)(n.code,{children:"FeatureflowConfig"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Properties"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"update"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsxs)(n.td,{children:["If set to ",(0,s.jsx)(n.code,{children:"true"})," then when features update from featureflow, the component will update automatically."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"clientName"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"featureflow"'})}),(0,s.jsx)(n.td,{children:"Use this to change the prop that the featureflow client will bind to."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"waitForInit"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsx)(n.td,{children:"Use this to wait for featureflow to respond with features before the rendering the component"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"preInitComponent"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ReactComponent"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"undefined"})}),(0,s.jsxs)(n.td,{children:["Use this display another component when the featureflow rules haven't loaded and ",(0,s.jsx)(n.code,{children:"waitForInit"})," is ",(0,s.jsx)(n.code,{children:"true"})]})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { withFeatureflowProvider, useFeatureflow } from 'react-featureflow-client'\n\n// Feature flag key\nconst FEATURE_KEY = 'my-feature';\n\n// Component that will be shown when feature is ON\nconst NewWelcomeMessage = () => (\n  <div className=\"welcome-message new\">\n    <h1>Welcome to the Future!</h1>\n    <p>You're seeing our new, improved welcome message</p>\n  </div>\n)\n\n// Component that will be shown when feature is OFF\nconst OldWelcomeMessage = () => (\n  <div className=\"welcome-message old\">\n    <h1>Hello World!</h1>\n    <p>Welcome to React v19</p>\n  </div>\n)\n\nfunction App() {\n  const featureflow = useFeatureflow()\n  const isOn = featureflow.evaluate(FEATURE_KEY).isOn()\n\n  return (\n    <div className=\"app-container\">\n      {isOn ? <NewWelcomeMessage /> : <OldWelcomeMessage />}      \n    </div>\n  )\n}\n\nconst FF_KEY = 'sdk-js-env-mykey'\nconst user = {\n  id: 'test-user-1',\n  attributes: {\n    email: 'test@example.com',\n    plan: 'free'\n  }\n}\n\nexport default withFeatureflowProvider({\n  apiKey: FF_KEY,\n  user\n})(App)\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For more, see the github repo ",(0,s.jsx)(n.a,{href:"https://github.com/featureflow/featureflow-javascript-sdk",children:"Featureflow Javascript Client"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);