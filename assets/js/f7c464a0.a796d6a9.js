"use strict";(self.webpackChunkfeatureflow_docs=self.webpackChunkfeatureflow_docs||[]).push([[2922],{2851:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"SDK_Guides/java","title":"Java SDK","description":"Get your Featureflow account at featureflow.io","source":"@site/versioned_docs/version-2.0.0/05-SDK_Guides/java.mdx","sourceDirName":"05-SDK_Guides","slug":"/java-sdk","permalink":"/java-sdk","draft":false,"unlisted":false,"tags":[],"version":"2.0.0","frontMatter":{"title":"Java SDK","sidebar_label":"Java SDK","slug":"/java-sdk"},"sidebar":"docsSidebar","previous":{"title":"Featureflow Angular 1 Client","permalink":"/angular-1"},"next":{"title":"Javascript Client","permalink":"/javascript-client"}}');var a=t(4848),s=t(8453);const i={title:"Java SDK",sidebar_label:"Java SDK",slug:"/java-sdk"},l=void 0,d={},u=[{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Create a Featureflow Client",id:"create-a-featureflow-client",level:3},{value:"Evaluate a Feature",id:"evaluate-a-feature",level:3},{value:"User Targeting",id:"user-targeting",level:2},{value:"Spring Integration",id:"spring-integration",level:2},{value:"Using a UserProvider",id:"using-a-userprovider",level:3},{value:"Using a UserLookupProvider",id:"using-a-userlookupprovider",level:3},{value:"Real-time Updates",id:"real-time-updates",level:2},{value:"API Reference",id:"api-reference",level:2},{value:"Evaluate Methods",id:"evaluate-methods",level:3},{value:"FeatureflowUser Builder",id:"featureflowuser-builder",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"License",id:"license",level:2}];function o(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.p,{children:["Get your Featureflow account at ",(0,a.jsx)(r.a,{href:"http://www.featureflow.io",children:"featureflow.io"})]}),"\n",(0,a.jsxs)(r.p,{children:["GitHub: ",(0,a.jsx)(r.a,{href:"https://github.com/featureflow/featureflow-java-sdk",children:"https://github.com/featureflow/featureflow-java-sdk"})]}),"\n",(0,a.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsxs)(r.p,{children:["Add the dependency to your ",(0,a.jsx)(r.code,{children:"pom.xml"}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:"<dependency>\n    <groupId>io.featureflow</groupId>\n    <artifactId>featureflow-java-sdk</artifactId>\n    <version>1.2.1</version>\n</dependency>\n"})}),"\n",(0,a.jsxs)(r.p,{children:["Or for Gradle, add to your ",(0,a.jsx)(r.code,{children:"build.gradle"}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-groovy",children:"implementation 'io.featureflow:featureflow-java-sdk:1.2.1'\n"})}),"\n",(0,a.jsx)(r.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,a.jsx)(r.h3,{id:"create-a-featureflow-client",children:"Create a Featureflow Client"}),"\n",(0,a.jsxs)(r.p,{children:["Get your ",(0,a.jsx)(r.strong,{children:"Server Environment API Key"})," from the environment page in Featureflow and instantiate a singleton client:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'String apiKey = "sdk-srv-env-YOUR_API_KEY";\nFeatureflowClient featureflow = FeatureflowClient.builder(apiKey).build();\n'})}),"\n",(0,a.jsx)(r.admonition,{title:"Singleton Pattern",type:"caution",children:(0,a.jsxs)(r.p,{children:["The ",(0,a.jsx)(r.code,{children:"FeatureflowClient"})," should be instantiated once and reused throughout your application. If using Spring, configure it as a ",(0,a.jsx)(r.code,{children:"@Bean"})," in a ",(0,a.jsx)(r.code,{children:"@Configuration"})," class."]})}),"\n",(0,a.jsx)(r.h3,{id:"evaluate-a-feature",children:"Evaluate a Feature"}),"\n",(0,a.jsx)(r.p,{children:"Check the value of a feature flag in your code:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'if (featureflow.evaluate("my-feature-key", user).isOn()) {\n    // Feature is enabled\n}\n\nif (featureflow.evaluate("my-feature-key", user).isOff()) {\n    // Feature is disabled\n}\n'})}),"\n",(0,a.jsxs)(r.p,{children:["For custom variants beyond ",(0,a.jsx)(r.code,{children:"on"}),"/",(0,a.jsx)(r.code,{children:"off"}),":"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'if (featureflow.evaluate("my-feature-key", user).is("red")) {\n    System.out.println("Variant: " + featureflow.evaluate("my-feature-key", user).value());\n}\n'})}),"\n",(0,a.jsx)(r.h2,{id:"user-targeting",children:"User Targeting"}),"\n",(0,a.jsx)(r.p,{children:"Pass user information to target features to specific users or segments:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'FeatureflowUser user = new FeatureflowUser("unique-user-id")\n    .withAttribute("tier", "silver")\n    .withAttribute("age", 32)\n    .withAttribute("signup_date", new DateTime(2017, 1, 1, 12, 0, 0, 0))\n    .withAttribute("email", "user@example.com")\n    .withAttributes("user_role", Arrays.asList("admin", "beta_tester"));\n'})}),"\n",(0,a.jsx)(r.p,{children:"User attributes can be:"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:"String"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:"Number"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.code,{children:"DateTime"})}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.code,{children:"List<String>"}),", ",(0,a.jsx)(r.code,{children:"List<Number>"}),", or ",(0,a.jsx)(r.code,{children:"List<DateTime>"})]}),"\n"]}),"\n",(0,a.jsx)(r.p,{children:"Evaluate with the user context:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'featureflow.evaluate("my-feature", user).isOn();\n'})}),"\n",(0,a.jsx)(r.admonition,{type:"note",children:(0,a.jsxs)(r.p,{children:["When a list of attributes is passed, rules may match any value in the list. User attributes are stored in Featureflow for use in rule creation. Set ",(0,a.jsx)(r.code,{children:".saveUser(false)"})," on the user object to prevent this."]})}),"\n",(0,a.jsx)(r.h2,{id:"spring-integration",children:"Spring Integration"}),"\n",(0,a.jsx)(r.h3,{id:"using-a-userprovider",children:"Using a UserProvider"}),"\n",(0,a.jsxs)(r.p,{children:["Create a ",(0,a.jsx)(r.code,{children:"FeatureflowUserProvider"})," to automatically obtain the current user context (e.g., from a logged-in session):"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Configuration\npublic class FeatureflowConfig {\n\n    @Autowired\n    private UserService userService;\n\n    @Bean\n    public FeatureflowClient featureflowClient() {\n        return FeatureflowClient.builder("sdk-srv-env-YOUR_API_KEY")\n            .withUserProvider(() -> getFeatureflowUser())\n            .build();\n    }\n\n    private FeatureflowUser getFeatureflowUser() {\n        User currentUser = userService.getCurrentUser();\n        return new FeatureflowUser(currentUser.getId())\n            .withAttribute("name", currentUser.getName())\n            .withAttributes("user_role", \n                currentUser.getRoles().stream()\n                    .map(Role::getName)\n                    .collect(Collectors.toList()));\n    }\n}\n'})}),"\n",(0,a.jsx)(r.h3,{id:"using-a-userlookupprovider",children:"Using a UserLookupProvider"}),"\n",(0,a.jsx)(r.p,{children:"For user lookup by ID:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Bean\npublic FeatureflowClient featureflowClient() {\n    return FeatureflowClient.builder("sdk-srv-env-YOUR_API_KEY")\n        .withUserLookupProvider(userId -> getFeatureflowUser(userId))\n        .build();\n}\n\nprivate FeatureflowUser getFeatureflowUser(String userId) {\n    User user = userService.findOneById(userId);\n    return new FeatureflowUser(user.getId())\n        .withAttribute("name", user.getName())\n        .withAttributes("user_role", \n            user.getRoles().stream()\n                .map(Role::getName)\n                .collect(Collectors.toList()));\n}\n'})}),"\n",(0,a.jsx)(r.p,{children:"Then evaluate using just the user ID:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'featureflow.evaluate("my-feature", "user123").isOn();\n'})}),"\n",(0,a.jsx)(r.h2,{id:"real-time-updates",children:"Real-time Updates"}),"\n",(0,a.jsx)(r.p,{children:"Listen for feature control updates using callbacks:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'FeatureflowClient featureflow = FeatureflowClient.builder(apiKey)\n    .withFeatures(Arrays.asList(\n        new Feature("feature-one"),\n        new Feature("feature-two")\n    ))\n    .withUpdateCallback(control -> \n        System.out.println("Feature updated: " + control.getKey()))\n    .build();\n'})}),"\n",(0,a.jsx)(r.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,a.jsx)(r.h3,{id:"evaluate-methods",children:"Evaluate Methods"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{children:"Method"}),(0,a.jsx)(r.th,{children:"Description"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"evaluate(featureKey, user).isOn()"})}),(0,a.jsxs)(r.td,{children:["Returns ",(0,a.jsx)(r.code,{children:"true"})," if variant equals ",(0,a.jsx)(r.code,{children:'"on"'})]})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"evaluate(featureKey, user).isOff()"})}),(0,a.jsxs)(r.td,{children:["Returns ",(0,a.jsx)(r.code,{children:"true"})," if variant equals ",(0,a.jsx)(r.code,{children:'"off"'})]})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"evaluate(featureKey, user).is(value)"})}),(0,a.jsxs)(r.td,{children:["Returns ",(0,a.jsx)(r.code,{children:"true"})," if variant equals the specified value"]})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"evaluate(featureKey, user).value()"})}),(0,a.jsx)(r.td,{children:"Returns the current variant value as a string"})]})]})]}),"\n",(0,a.jsx)(r.h3,{id:"featureflowuser-builder",children:"FeatureflowUser Builder"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{children:"Method"}),(0,a.jsx)(r.th,{children:"Description"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"withAttribute(key, value)"})}),(0,a.jsx)(r.td,{children:"Add a single attribute (String, Number, or DateTime)"})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"withAttributes(key, list)"})}),(0,a.jsx)(r.td,{children:"Add a list attribute"})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:(0,a.jsx)(r.code,{children:"saveUser(boolean)"})}),(0,a.jsx)(r.td,{children:"Control whether user is saved in Featureflow (default: true)"})]})]})]}),"\n",(0,a.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"/gradual-rollouts",children:"Gradual Rollouts"})," \u2014 Release to a percentage of users"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"/targeting-features",children:"Targeting Features"})," \u2014 Control who sees what"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"/manage-feature-variants",children:"Managing Variants"})," \u2014 Create custom feature states"]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"license",children:"License"}),"\n",(0,a.jsx)(r.p,{children:"Apache-2.0"})]})}function c(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>l});var n=t(6540);const a={},s=n.createContext(a);function i(e){const r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);