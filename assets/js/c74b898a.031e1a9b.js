"use strict";(self.webpackChunkfeatureflow_docs=self.webpackChunkfeatureflow_docs||[]).push([[867],{2398:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/quickstart-1-create-feature-1e408d9d882547d097cac341ff782e56.png"},4550:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/quickstart-2-toggle-ecb5b7bc5666756740ac32a5a9e4e01d.png"},7510:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>C,contentTitle:()=>E,default:()=>S,frontMatter:()=>T,metadata:()=>a,toc:()=>q});const a=JSON.parse('{"id":"Quickstart/quickstart-server","title":"Quick start - server","description":"This Quick start is designed to get featureflow into your existing application as quickly as possible.","source":"@site/docs/01-Quickstart/1-quickstart-server.md","sourceDirName":"01-Quickstart","slug":"/quick-start-server","permalink":"/quick-start-server","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Quick start - server","sidebar_label":"Quick start - Server","slug":"/quick-start-server"},"sidebar":"docsSidebar","previous":{"title":"Overview","permalink":"/"},"next":{"title":"Quick start - Front End","permalink":"/quick-start-frontend"}}');var r=n(4848),i=n(8453),l=n(6540),s=n(8215),u=n(3104),o=n(6347),c=n(205),d=n(7485),f=n(1682),h=n(679);function p(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:t,children:n}=e;return(0,l.useMemo)(()=>{const e=t??function(e){return p(e).map(({props:{value:e,label:t,attributes:n,default:a}})=>({value:e,label:t,attributes:n,default:a}))}(n);return function(e){const t=(0,f.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function v({value:e,tabValues:t}){return t.some(t=>t.value===e)}function w({queryString:e=!1,groupId:t}){const n=(0,o.W6)(),a=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,d.aZ)(a),(0,l.useCallback)(e=>{if(!a)return;const t=new URLSearchParams(n.location.search);t.set(a,e),n.replace({...n.location,search:t.toString()})},[a,n])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=m(e),[i,s]=(0,l.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!v({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r})),[u,o]=w({queryString:n,groupId:a}),[d,f]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,a]=(0,h.Dv)(t);return[n,(0,l.useCallback)(e=>{t&&a.set(e)},[t,a])]}({groupId:a}),p=(()=>{const e=u??d;return v({value:e,tabValues:r})?e:null})();(0,c.A)(()=>{p&&s(p)},[p]);return{selectedValue:i,selectValue:(0,l.useCallback)(e=>{if(!v({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);s(e),o(e),f(e)},[o,f,r]),tabValues:r}}var b=n(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function y({className:e,block:t,selectedValue:n,selectValue:a,tabValues:i}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,u.a_)(),c=e=>{const t=e.currentTarget,r=l.indexOf(t),s=i[r].value;s!==n&&(o(t),a(s))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:i.map(({value:e,label:t,attributes:a})=>(0,r.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...a,className:(0,s.A)("tabs__item",x.tabItem,a?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,l.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function k(e){const t=g(e);return(0,r.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,r.jsx)(y,{...t,...e}),(0,r.jsx)(j,{...t,...e})]})}function N(e){const t=(0,b.A)();return(0,r.jsx)(k,{...e,children:p(e.children)},String(t))}const F={tabItem:"tabItem_Ymn6"};function I({children:e,hidden:t,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(F.tabItem,n),hidden:t,children:e})}const T={title:"Quick start - server",sidebar_label:"Quick start - Server",slug:"/quick-start-server"},E=void 0,C={},q=[{value:"Install the Featureflow client",id:"install-the-featureflow-client",level:2},{value:"Create a Featureflow client and register features",id:"create-a-featureflow-client-and-register-features",level:2},{value:"Evaluate a feature",id:"evaluate-a-feature",level:2},{value:"Try it out!",id:"try-it-out",level:2}];function A(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"This Quick start is designed to get featureflow into your existing application as quickly as possible."}),"\n",(0,r.jsx)(t.h2,{id:"install-the-featureflow-client",children:"Install the Featureflow client"}),"\n",(0,r.jsxs)(N,{children:[(0,r.jsx)(I,{value:"java",label:"Java",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-xml",children:"<dependency>\n    <groupId>io.featureflow</groupId>\n    <artifactId>featureflow-java-sdk</artifactId>\n    <version>1.2.1</version>\n</dependency>\n"})})}),(0,r.jsx)(I,{value:"nodejs",label:"NodeJS",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",metastring:"NodeJS",children:"\nnpm install featureflow-node-sdk\n\n"})})}),(0,r.jsx)(I,{value:"dotnet",label:".NET",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",metastring:".NET",children:"Install-Package Featureflow\n"})})}),(0,r.jsx)(I,{value:"ruby",label:"Ruby",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"\n# Without bundler\n$ gem install featureflow\n\n# With bundler\n# in your Gemfile\ngem 'featureflow'\n# then\n$ bundle install\n\n"})})}),(0,r.jsx)(I,{value:"go",label:"Go",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'\npackage main\n\nimport (\n  "github.com/featureflow/featureflow-go-sdk/featureflow"\n)\n\n'})})})]}),"\n",(0,r.jsx)(t.h2,{id:"create-a-featureflow-client-and-register-features",children:"Create a Featureflow client and register features"}),"\n",(0,r.jsx)(t.admonition,{type:"important",children:(0,r.jsx)(t.p,{children:"The featureflow client must be a Singleton in your application."})}),"\n",(0,r.jsx)(t.p,{children:"Do not instantiate featureflow on every request This will cause a reload of features every time which will incur a performance penalty and excessive usage."}),"\n",(0,r.jsx)(t.p,{children:"The Featureflow Client will maintain an optimised cache of all your feature rules."}),"\n",(0,r.jsxs)(N,{children:[(0,r.jsx)(I,{value:"java",label:"Java",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:'FeatureflowClient client = new  FeatureflowClient\n        .Builder({Server Environment Api Key})\n        .withFeatures(Arrays.asList(\n        new Feature("logout-button", Variant.off),\n        new Feature("example-feature", Variant.off)),\n        ));\n\n//The client is a singleton, so for example if you use spring you might declare it in a @Configuration class.\n\n//we recommend that you use an enum for your feature keys - this helps you track them in your IDE and reduces debt.\n'})})}),(0,r.jsx)(I,{value:"nodejs",label:"NodeJS",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:'\nvar Featureflow = require(\'featureflow-node-sdk\');\n\nvar withFeatures = [\n    new Featureflow.Feature("logout-button").build(),\n    new Featureflow.Feature("example-button").build(),\n]\n\nnew Featureflow.Client({\n    apiKey: "server-api-key",\n    withFeatures: withFeatures\n}, function(error, featureflow) {\n    if (!error) {\n        throw error;\n    }\n    // featureflow is now initialized\n    featureflow\n});\n\n//You should only create one instance of a Featureflow.Client\n\n'})})}),(0,r.jsx)(I,{value:"dotnet",label:".NET",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dotnet",metastring:".NET",children:'using Featureflow.Client;\nvar client = FeatureflowClientFactory.Create("srv-env-YOUR_SERVER_ENVIRONMENT_API_KEY");\n'})})}),(0,r.jsx)(I,{value:"ruby",label:"Ruby",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ruby",children:"\nrequire 'featureflow'\n\nwith_features = [\n  Featureflow::Feature.create('logout-button'),\n  Featureflow::Feature.create('example-button')\n]\n\nfeatureflow = Featureflow::Client.new(api_key: \"server api key\", with_features: with_features)\n\n"})})}),(0,r.jsx)(I,{value:"go",label:"Go",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'\nfeatureflowClient, error := featureflow.Client("server api", featureflow.Config{\n  WithFeatures: []featureflow.FeatureRegistration{\n    featureflow.WithFeature("logout-button", "off").Build(),\n    featureflow.WithFeature("example-button", "off").Build(),\n  },\n})\n\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"Your 'Server Environment SDK Key' is available on your environment page in featureflow."}),"\n",(0,r.jsx)(t.p,{children:"You may wish to register your features at startup. This provides additional benefits - we know immediately when a feature is available in an environment, you can provide an alternative failover variant (the default is 'off') - the failover variant is the variant that is chosen if there is no matching feature available to evaluate (if you are offline with no cache, misconfigured or the feature has not been created yet in featureflow). It also helps as a central place to refer to all your currently deployed features."}),"\n",(0,r.jsx)(t.h2,{id:"evaluate-a-feature",children:"Evaluate a feature"}),"\n",(0,r.jsxs)(N,{children:[(0,r.jsx)(I,{value:"java",label:"Java",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:'//Without User\nif(featureflowClient.evaluate("example-feature").isOn())) {\n        //do something\n        } else {\n        //do not do something\n        }\n\n//With a User\n        FeatureflowUser user = new FeatureflowUser("uniqueUserId")\n        .withAttribute("tier", "silver")\n        .withAttribute("age", 32)\n        .withAttribute("signup_date", new DateTime(2017, 1, 1, 12, 0, 0, 0));\n\n        if(featureflowClient.evaluate("example-feature", user).isOn()) {\n        //do something\n        }\n'})})}),(0,r.jsx)(I,{value:"nodejs",label:"NodeJS",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"//Without Context Values\nif (featureflow.evaluate(\"example-feature\", \"uniqueuserkey1\").isOn())) {\n    //do something\n} else {\n    //do not do something\n}\n\n//With a User\nvar UserBuilder = require(\"featureflow-node-sdk\").UserBuilder;\nvar user = new UserBuilder('uniqueuserkey1')\n    .withAttribute('tier', 'silver')\n    .withAttribute('age', 32)\n    .withAttribute('signup_date', new Date(2017, 0, 1, 12, 0, 0, 0))\n\nif (featureflow.evaluate(\"example-feature\", user).isOn()) {\n    //do something\n}\n"})})}),(0,r.jsx)(I,{value:"dotnet",label:".NET",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dotnet",metastring:".NET",children:'var user = new User("1234");\nuser.WithAttribute("region", "sydney");\nuser.WithAttribute("days", new List<int> { 11, 1, 4, 29 });\nuser.WithSessionAttribute("dayofweek", 5);\nvar result = client.Evaluate("example-feature", user).Value();\n\n if (client.Evaluate("example-feature").IsOn())\n    {\n        //do something\n    }\n    if (client.Evaluate("example-feature").IsOff())\n    {\n        //do something\n    }\n'})})}),(0,r.jsx)(I,{value:"ruby",label:"Ruby",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ruby",children:'# without user attributes\nif featureflow.evaluate("example-feature", "uniqueuserkey1").on?\n  # do something\nend\n\n#with user attributes\nuser = Featureflow::UserBuilder.new(\'uniqueuserkey1\')\n.withAttributes(\n                                        tier: \'silver\',\n                                        age: 32,\n                                        signup_date: Time.new(2017, 1, 1, 12).iso8601\n                                       ).build\n\nif featureflow.evaluate("example-feature", user).on?\n  # do something\nend\n\n'})})}),(0,r.jsx)(I,{value:"go",label:"Go",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'// without context values\nif featureflowClient.EvaluateBasic("example-feature", "uniqueuserkey1").IsOn() {\n    //do something\n}\n\n// with context values\nuser := featureflow.NewUserBuilder("uniqueuserkey1").\n  WithAttribute("tier", "silver").\n  WithAttribute("age", 23).\n  WithAttribute("signup_date", "2017-01-01T12:00:00+00:00").\n  Build()\n\nif featureflowClient.Evaluate("example-feature", user).IsOn() {\n    //do something\n}\n\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"In the Server-side SDK's we create a FeatureFlow User and pass that into the 'evaluate' method.\nThe FeatureflowUser contains a a set of name/value pairs which give featureflow information on which you can base your feature rules. If you do not provide a user we will assume the user is 'anonymous'."}),"\n",(0,r.jsx)(t.h2,{id:"try-it-out",children:"Try it out!"}),"\n",(0,r.jsx)(t.p,{children:"You may now fire up your application - keep an eye on the features list in the featureflow admin panel and you will see your features appear with default on/off settings."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Congratulations you're done!"})}),"\n",(0,r.jsx)(t.p,{children:"If you wish of course you can create the features via the featureflow UI - featureflow will make the connection using the feature Key.\nTo do this click 'New Feature' (in any environment) and enter a name and key:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Create Feature",src:n(2398).A+"",width:"597",height:"812"})}),"\n",(0,r.jsx)(t.p,{children:"You will see your feature in the list - you will notice that it has an empty green circle next to it - this means we have not seen the feature yet in the environment."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Register or evaluate the new feature in your SDK code (you can find the feature Key in the feature detail modal)"}),"\n",(0,r.jsx)(t.li,{children:"Restart your application - You will find that the icon has updated to a ticked green circle as soon as we detect your new feature (ensure you're looking at the environment that matches your SDK environment key)."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Status Icon",src:n(4550).A+"",width:"288",height:"122"})}),"\n",(0,r.jsx)(t.p,{children:"Thats the basics to get started."}),"\n",(0,r.jsx)(t.p,{children:"Check out the User guide for to learn how to manage gradual rollouts, targeting, and multiple feature variants."}),"\n",(0,r.jsxs)(t.p,{children:["You may wish to try the  ",(0,r.jsx)(t.a,{href:"/javascript-client",children:"javascript client SDK"})," started to manage your front-end."]})]})}function S(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(A,{...e})}):A(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var a=n(6540);const r={},i=a.createContext(r);function l(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);